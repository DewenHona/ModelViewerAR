<html>

<head>

    <title>Model</title>

    <link rel="stylesheet" href="./styles.css">
    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>

</head>

<body>
    <model-viewer src="./assets/models/sunflower.glb" poster="./assets/images/sunflower.png" shadow-intensity="1" ar
        ar-modes="webxr scene-viewer quick-look" camera-controls alt="A 3D model carousel">

        <button slot="ar-button" id="ar-button">
            View in your space
        </button>

        <div id="ar-prompt">
            <img src="./assets/images/hand.png">
        </div>

        <button id="ar-failure">
            AR is not tracking!
        </button>

        <div class="slider">
            <div class="slides">
                <button class="slide selected" onclick="switchSrc(this, 'sunflower')"
                    style="background-image: url('./assets/images/sunflower.png');">

                </button><button class="slide" onclick="switchSrc(this, 'fox')"
                    style="background-image: url('./assets/images/fox.png');">

                </button><button class="slide" onclick="switchSrc(this, 'earth')"
                    style="background-image: url('./assets/images/earth.png');">

                </button><button class="slide" onclick="switchSrc(this, 'ToyTrain')"
                    style="background-image: url('./assets/images/abc.png');">

                </button><button class="slide" onclick="switchSrc(this, 'Canoe')"
                    style="background-image: url('./assets/images/abc.png');">
                </button>
            </div>
        </div>
    </model-viewer>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
    </script>

    <!-- Loads <model-viewer> for old browsers like IE11: -->
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js">
    </script>


    <script type="module">
        const modelViewer = document.querySelector("model-viewer");

        window.switchSrc = (element, name) => {
            const base = "./assets/";
            modelViewer.src = base + "models/" + name + '.glb';
            modelViewer.poster = base + "images/" + name + '.png';
            const slides = document.querySelectorAll(".slide");
            slides.forEach((element) => { element.classList.remove("selected"); });
            element.classList.add("selected");
        };

        document.querySelector(".slider").addEventListener('beforexrselect', (ev) => {
            // Keep slider interactions from affecting the XR scene.
            ev.preventDefault();
        });
    </script>


</body>

</html>